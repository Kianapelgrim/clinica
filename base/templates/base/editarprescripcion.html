{% extends 'main.html' %}

{% block content %}

{% load static %}


                <!-- Begin Page Content -->
                <div class="container-fluid">
                    <div class="container">
                        <div class="row">
                            <div class="col">
                            
                                <!-- Content for the first column -->
                            </div>
                            <div class="col">
                                <h1 class="h3 mb-2 text-gray-800">Editar Prescripcion</h1>
                                <!-- Content for the second column -->
                            </div>
                    <!-- Page Heading -->
                            </div>
                        </div>
                    </div>
                    
                    <form method="POST">
                        {% csrf_token %}
                        {{ form.as_p }}
                        <div id="detalleprescripcion-formset">
                            {{ formset.management_form }}
                            {% for form in formset %}
                                <div class="detalleprescripcion-form">
                                    {{ form.as_p }}
                                </div>
                            {% endfor %}
                        </div>
                        <button type="button" id="add-form">Add another</button>
                        <button type="submit">Submit</button>
                    </form>
                    
                    <script>
                    document.getElementById('add-form').addEventListener('click', function() {
                        var formIndex = $('#detalleprescripcion-formset').children().length - 1;
                        var newElement = $('#detalleprescripcion-formset .detalleprescripcion-form:last').clone(true);
                        newElement.find(':input').each(function() {
                            var name = $(this).attr('name').replace('-' + (formIndex-1) + '-', '-' + formIndex + '-');
                            var id = 'id_' + name;
                            $(this).attr({'name': name, 'id': id}).val('').removeAttr('checked');
                        });
                        newElement.find('label').each(function() {
                            var newFor = $(this).attr('for').replace('-' + (formIndex-1) + '-', '-' + formIndex + '-');
                            $(this).attr('for', newFor);
                        });
                        $('#detalleprescripcion-formset').append(newElement);
                        $('#id_form-TOTAL_FORMS').val(parseInt($('#id_form-TOTAL_FORMS').val()) + 1);
                    });
                    </script>
                    


                    <!-- Include the necessary JavaScript libraries -->
                    
                    
                    
                   
            <!-- End of Main Content -->

                     
        
                </div>
                <!-- End of Content Wrapper -->
        
            </div>
            <!-- End of Page Wrapper -->
        
            <!-- Scroll to Top Button-->
            <a class="scroll-to-top rounded" href="#page-top">
                <i class="fas fa-angle-up"></i>
            </a>
        
            <!-- Logout Modal-->
            <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
                            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">Ã—</span>
                            </button>
                        </div>
                        <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
                        <div class="modal-footer">
                            <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                            <a class="btn btn-primary" href="login.html">Logout</a>
                        </div>
                    </div>
                </div>
            </div>
            {% endblock %}
            <!-- Bootstrap core JavaScript-->
            <script src="{%static 'vendor/jquery/jquery.min.js'%}"></script>
            <script src="{%static 'vendor/bootstrap/js/bootstrap.bundle.min.js'%}"></script>
        
            <!-- Core plugin JavaScript-->
            <script src="{%static 'vendor/jquery-easing/jquery.easing.min.js'%}"></script>
        
            <!-- Custom scripts for all pages-->
            <script src="{%static 'js/sb-admin-2.min.js'%}"></script>
        
            <!-- Page level plugins -->
            <script src="{%static 'vendor/chart.js/Chart.min.js'%}"></script>
        
            <!-- Page level custom scripts -->
            <script src="{%static 'js/demo/chart-area-demo.js'%}"></script>
            <script src="{%static 'js/demo/chart-pie-demo.js'%}"></script>
        
        </body>
        
        </html>